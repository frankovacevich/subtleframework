!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).Subtle=e()}}((function(){var e={TabsLayout:class{constructor(e,t,s){this.params={show_labels:!0,show_labels_inline:!1,position:"center",show_icons:!0,icon_size:16,dock_bottom:!1,direction:"horizontal"};for(const o in s)this.params[o]=s[o];this.object="string"==typeof e?document.getElementById(e):e,this.tabs=t,this.draw()}draw(){let e={left:"flex-start",fill:"space-evenly",center:"center"}[this.params.position],t='<div style="display:flex; flex-direction:column; justify-content: '+e+'; height: 100%; width: 100%;">',s='<div style="width:100%;">';s+='<div class="tabs-layout-container" style="display: '+("vertical"==this.params.direction?"block":"flex")+"; direction: align-content: stretch; justify-content: "+e+';">';let o=this.params.icon_size;for(const l in this.tabs){s+='<div id="tab_'+this.tabs[l].div+'" class="no-selectable tab-item" style="width:'+(this.params.show_labels_inline||"vertical"==this.params.direction?"auto":2*o+10+"px")+"; flex-direction:"+(this.params.show_labels_inline?"row":"column")+'; ">',this.params.show_icons&&(s+='<div class="tab-icon" style="font-size:'+o+"px; height:"+1*o+"px; line-height:"+o+'px">'+this.tabs[l].icon+"</div>"),this.params.show_labels&&(this.params.show_labels_inline?s+='<div class="tab-text" style="padding-left:'+(this.params.show_icons?"10":"0")+'px;">':s+='<div class="tab-text" style="margin-top: 5px;">',s+=this.tabs[l].label+"</div>"),s+="</div>";let e=document.getElementById(this.tabs[l].div);e.style.height="100%",e.style.width="100%",e.style.display="none"}s+="</div>",s+="</div>";let i=this.object.innerHTML,n=t+s+i+"</div>";this.params.dock_bottom&&(n=t+i+s+"<div>"),this.object.innerHTML=n;var a=this;for(const l in this.tabs)this.object.getElementsByClassName("tabs-layout-container")[0].childNodes[l].onclick=function(){a.select_tab(l)};this.select_tab(0)}select_tab(e){for(const t in this.tabs)document.getElementById(this.tabs[t].div).style.display="none",this.object.getElementsByClassName("tabs-layout-container")[0].childNodes[t].classList.remove("selected");document.getElementById(this.tabs[e].div).style.display="block",this.object.getElementsByClassName("tabs-layout-container")[0].childNodes[e].classList.add("selected"),this.tabs[e].onselect&&this.tabs[e].onselect()}}},t={};PlotlyObject=class{constructor(e,t){this.obj="string"==typeof e?document.getElementById(e):e,this.traces=[],this.layout={margin:{l:30,r:20,b:30,t:30,pad:5},showlegend:!1,legend:{orientation:"h",x:0,y:1.2},xaxis:{title:""},yaxis:{title:""},dragmode:"zoom",hovermode:"closest"};for(const s in t)this.layout[s]=t[s];this.options={displaylogo:!1,displayModeBar:!1},this.pie_chart_index=0}draw(){this.traces.sort((function(e,t){return e.zindex-t.zindex})),Plotly.newPlot(this.obj,this.traces,this.layout,this.options)}add_text(e,t,s,o){e instanceof Array||(e=[e]),t instanceof Array||(t=[t]),s instanceof Array||(s=[s]);let i={x:e,y:t,mode:"text",text:s,textposition:"middle center",showlegend:!1,zindex:9999};for(const n in o)i[n]=o[n];this.traces.push(i)}add_scatter(e,t){let s={name:"",color:getComputedStyle(document.documentElement).getPropertyValue("--colors-primary")[this.traces.length],show_markers:!1,show_lines:!0,plot_area:!1,plot_manhattan:!1,plot_spline:!1,line_stroke:2,marker_symbol:"circle",marker_size:6,zindex:0};for(const n in t)s[n]=t[n];let o="linear";s.plot_manhattan&&(o="hv"),s.plot_spline&&(o="spline");let i="lines+markers";s.show_lines&&!s.show_markers&&(i="lines"),!s.show_lines&&s.show_markers&&(i="markers"),(s.show_lines||s.show_markers)&&this.traces.push({type:"scatter",x:e[0],y:e[1],mode:i,fill:s.plot_area?"tozeroy":"none",name:s.name,marker:{color:s.color,symbol:s.marker_symbol,size:s.marker_size},line:{color:s.color,shape:o,width:s.line_stroke},zindex:s.zindex})}add_columnchart(e,t){let s={name:"",color:getComputedStyle(document.documentElement).getPropertyValue("--colors-primary")[this.traces.length],zindex:0};for(const o in t)s[o]=t[o];this.traces.push({type:"bar",x:e[0],y:e[1],name:s.name,marker:{color:s.color},zindex:s.zindex})}add_piechart(e,t){let s={name:"",colors:["#5bbadc","#3d5afe","#00e676","#76ff03","#c6ff00","#ffc400","#ff3d00","#f50057","#d500f9","#1de9b6"],donut:!1,show_labels:!0,zindex:0};for(const o in t)s[o]=t[o];this.traces.push({name:s.name,type:"pie",values:e[1],labels:e[0],hole:s.donut?.4:0,textinfo:s.show_labels?"label+percent":"percent",marker:{colors:s.colors},domain:{row:0,column:this.pie_chart_index},zindex:s.zindex}),this.pie_chart_index+=1,this.layout.grid={rows:1,columns:this.pie_chart_index}}add_boxandwhiskers(e,t){let s={name:"",color:getComputedStyle(document.documentElement).getPropertyValue("--colors-primary"),show_outliers:!0,show_mean:!0,zindex:0};for(const o in t)s[o]=t[o];this.traces.push({type:"box",y:e,x:s.name,name:s.name,boxpoints:!!s.show_outliers&&"Outliers",boxmean:s.show_mean,marker:{color:s.color},zindex:s.zindex})}add_heatmap(e,t){let s={x:[],y:[],colors:getComputedStyle(document.documentElement).getPropertyValue("--colors-primary"),show_scale:!0,zindex:0};for(const i in t)s[i]=t[i];let o=s.colors;"string"==typeof s.colors&&(o=[[0,"#fff"],[1,s.colors]]),this.traces.push({type:"heatmap",z:e,x:s.x,y:s.y,colorscale:o,showscale:s.show_scale,zindex:s.zindex})}add_histogram(e,t){let s={nbins:0,zindex:0,color:getComputedStyle(document.documentElement).getPropertyValue("--colors-primary")};for(const o in t)s[o]=t[o];this.traces.push({type:"histogram",x:e,nbinsx:s.nbins,marker:{color:s.color},zindex:s.zindex})}},t.PlotlyObject=PlotlyObject;var s={Toast:class{constructor(){}show(e,t){var s=document.getElementById("s-toast");if(s){if(s.classList.contains("show"))return}else(s=document.createElement("div")).id="s-toast",s.className="toast",document.getElementsByTagName("body")[0].appendChild(s);s.innerHTML=t,""!=e&&s.classList.add(e),s.classList.add("show");var o=setTimeout((function(){""!=e&&s.classList.remove(e),s.classList.remove("show"),clearTimeout(o)}),5e3);return this}}},o={Indicator:class{constructor(e){this.object="string"==typeof e?document.getElementById(e):e}show(e,t,s,o=!1){var i=document.getElementById(this.object.id+"_indicator");i||((i=document.createElement("div")).id=this.object.id+"_indicator",i.className="indicator",document.getElementsByTagName("body")[0].appendChild(i)),i.classList.contains("show")||i.classList.add("show"),""==e||i.classList.contains(e)||i.classList.add(e),i.innerHTML=t,""!=s&&"undefined"!=typeof tippy&&tippy("#"+i.id,{content:"<span class='tippy-tip'>"+s+"</span>",allowHTML:!0}),o&&i.classList.add("animate");var n=this.object.getBoundingClientRect();return console.log(n),i.style.left=n.right+"px",i.style.top=n.top+"px",this}hide(){var e=document.getElementById(this.object.id+"_indicator");e&&e.classList.remove("show")}}},i={Overlay:class{constructor(){}show(e){var t=document.getElementById("s-overlay");return t||((t=document.createElement("div")).id="s-overlay",t.className="overlay",document.getElementsByTagName("body")[0].appendChild(t)),t.innerHTML=e,t.classList.add("show"),this}hide(){var e=document.getElementById("s-overlay");e&&e.classList.remove("show")}}},n={};return n.TabsLayout=e.TabsLayout,n.PlotlyObject=t.PlotlyObject,n.Toast=s.Toast,n.Indicator=o.Indicator,n.Overlay=i.Overlay,n.show_overlay=function(e){(new i.Overlay).show(e)},n.hide_overlay=function(e){(new i.Overlay).hide()},n.show_toast=function(e,t){(new s.Toast).show(e,t)},n}));